(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7fc5"],{"78c1":function(t,e,s){"use strict";s.r(e);var n=s("7a23");const o={class:"container mx-auto px-8 lg:mt-48 lg:mb-48 mb-10"},i={class:"mt-16"},r={class:"flex gap-x-5"},c={key:0,type:"submit",class:"mt-5 px-4 py-3 font-semibold tracking-wide text-white text-xl bg-green-500 rounded-md hover:bg-green-600 transform duration-300"};function a(t,e,s,a,u,l){const b=Object(n["v"])("Header"),d=Object(n["v"])("Question");return Object(n["q"])(),Object(n["f"])("div",o,[Object(n["h"])(b,{title:u.questions_count+" küsimust",subtitle:"Sul võib olla maksimaalselt "+l.calculate_max_wrong_answers()+" valet vastust."},null,8,["title","subtitle"]),Object(n["g"])("div",i,[Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["C"])((...t)=>l.submit&&l.submit(...t),["prevent"]))},[(Object(n["q"])(!0),Object(n["f"])(n["a"],null,Object(n["u"])(u.generated_questions,(t,e)=>(Object(n["q"])(),Object(n["d"])(d,{key:e,question:t,index:e+1,is_wrong:u.wrongs.includes(t),correct:t.correct},null,8,["question","index","is_wrong","correct"]))),128)),Object(n["g"])("div",r,[u.submitted?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["f"])("button",c,"Kontrolli")),u.submitted?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["f"])("button",{key:1,onClick:e[0]||(e[0]=Object(n["C"])((...t)=>l.cancel&&l.cancel(...t),["prevent"])),class:"mt-5 px-4 py-3 font-semibold tracking-wide text-white text-xl bg-yellow-500 rounded-md hover:bg-yellow-600 transform duration-300"},"Tühista"))])],32)]),u.submitted?(Object(n["q"])(),Object(n["f"])("button",{key:0,onClick:e[2]||(e[2]=t=>this.$router.push({name:"home"})),class:"mt-5 px-4 py-3 font-semibold tracking-wide text-white text-xl bg-yellow-500 rounded-md hover:bg-yellow-600 transform duration-300"},"Proovi uuesti")):Object(n["e"])("",!0)])}var u=s("1725");const l={class:"my-5"},b={key:0,class:"text-red-500 text-xl tracking-tight font-bold mb-3"},d={key:1,class:"text-slate-900 text-xl tracking-tight font-bold mb-3"},g=["name","id","value"],m=["for"],h=["for"];function j(t,e,s,o,i,r){return Object(n["q"])(),Object(n["f"])("div",l,[s.is_wrong?(Object(n["q"])(),Object(n["f"])("h4",b,Object(n["x"])(s.index)+". "+Object(n["x"])(s.question.question),1)):(Object(n["q"])(),Object(n["f"])("h4",d,Object(n["x"])(s.index)+". "+Object(n["x"])(s.question.question),1)),Object(n["g"])("div",null,[(Object(n["q"])(!0),Object(n["f"])(n["a"],null,Object(n["u"])(s.question.answers,(t,e)=>(Object(n["q"])(),Object(n["f"])("div",{key:e},[Object(n["g"])("input",{class:"w-4 h-4 text-yellow-400 bg-gray-100 border-gray-300 focus:ring-yellow-500",type:"radio",name:s.question.id+"-answer",id:s.question.id+t,value:t},null,8,g),s.is_wrong&&s.correct===t?(Object(n["q"])(),Object(n["f"])("label",{key:0,class:"text-lg text-green-600 font-semibold px-2",for:s.question.id+t},Object(n["x"])(t),9,m)):(Object(n["q"])(),Object(n["f"])("label",{key:1,class:"text-lg text-gray-500 px-2",for:s.question.id+t},Object(n["x"])(t),9,h))]))),128))])])}var O={props:["question","index","is_wrong","correct"],data(){return{}},methods:{}},x=s("6b0d"),w=s.n(x);const f=w()(O,[["render",j]]);var q=f,_=s("0418"),p={components:{Question:q,Header:_["a"]},data(){return{questions_count:this.$route.query.questions,generated_questions:[],wrongs:[],max_incorrect:this.calculate_max_wrong_answers(),submitted:!1}},created(){this.generate_questions()},methods:{calculate_max_wrong_answers(){return Math.round(.15*this.questions_count)},generate_questions(){const t=u.sort(()=>.5-Math.random());return this.generated_questions=t.slice(0,this.questions_count)},submit(t){const e=new FormData(t.target);if(Array.from(e.keys()).length==this.questions_count){for(let[s,n]of e){let t=s.split("-")[0];for(let e of u)e.id===Number(t)&&e.correct!==n&&this.wrongs.push(e)}let t={status:this.wrongs.length>this.calculate_max_wrong_answers()?"failed":"finished",questions:this.generated_questions,incorrects:this.wrongs,created_at:Date.now()};this.$store.dispatch("add_to_history",t),this.submitted=!0}},cancel(){let t={status:"canceled",questions:this.generated_questions,incorrects:this.wrongs,created_at:Date.now()};this.$store.dispatch("add_to_history",t),this.$router.push({name:"home"})}},computed:{}};const y=w()(p,[["render",a]]);e["default"]=y}}]);
//# sourceMappingURL=chunk-2d0d7fc5.84ed82e1.js.map